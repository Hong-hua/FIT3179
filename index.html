<!DOCTYPE html>
<html>
  <head>
    <title>ZheHua Hong1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css">    
    <style>
      body{
        background-color: lightgray;
      }
      .main {
        width: 1000px;  
        background-color:#ffb366;   
        margin: auto;
        padding: 50px;
        padding-top: 35px;
        font-size:12px;
      }
      .pure-g [class*=pure-u] {
        font-family: 'Open Sans', sans-serif
      }
      .vega-bind {
        font-size:small;
      }
      
      .text {
      	text-align: left;
        padding-left: 2em;
      }
      .annotation {
        text-align: center;
        font-style: italic;
      }
      h1 {
        text-align:center;
      }
      .center {
        text-align: justify;
        justify-content: center; 
        margin: auto;
      }
      .highlight {
        background-color: red;
      }
      #vlBasicDevResearch {
        margin:auto;
      }
      .margin-below {
        margin-bottom: 100px;
      }
      button {
        transition-duration: 0.4s;
        border-radius:0%;
        border:none;
      }
      button:hover {
        background-color: darkgray;
        color: white;
        border:none;
      }
      button:focus{
        background-color: darkgray;
        color:white;
        border:none;
        outline:none;
      }
      h1 {
        font-size: 24px;
      }
      .vis-container{
        font-family: 'Open Sans';
      }
    </style>
    <style media="screen">
      .vega-actions a {
        margin-right: 5px;
      }
    </style>
	<script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
	<script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
	<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
  </head>


  <body>
  	<div class="main">
      <div class="pure-g">
        <div class="pure-u-1-3">
          <div class="pure-g">
            <div class="pure-u-1">
              <h1 style="text-align:left;margin:0;">
                Coffee Report1
              </h1>
            </div>
          </div>
          <div class="pure-g">
            <div class="pure-u-1">
              <p style="font-size:12px;">
                Zhehua Hong
              </p>
            </div>
          </div>
        </div>
        <div class="pure-u-2-3"></div>
      </div>
      <div class="pure-g center">
        
        <div class="pure-u-1">
          <h1 style="background-color: rgb(167, 250, 174);">
            How many coffee we consume per year?
          </h1>
        </div>
        
      </div>
      <div class="pure-g center">
        <div class="pure-u-1-3"></div>
        <div class="pure-u-1-3">
          <p>
            Global coffee production in 2019/20 is estimated at 169.34 million bags, 2.2% lower than last year, as output of Arabica decreased by 5% to 95.99 million bags, while that of Robusta rose by 1.9% to 73.36 million bags. World coffee consumption is expected to decrease by 0.5% to 167.81 million bags as the covid-19 pandemic continues to put pressure on the global economy and greatly limits out-ofhome coffee consumption. As a result, coffee year 2019/20 is seen ending in a surplus of 1.54 million bags.y choosing the filter, you can see more detail information about one specific continent.
          </p>
        </div>
        <div class="pure-u-1-3">
        </div>
      </div>
      <div class="pure-g center">
        <div class="pure-u-2-3">
          <div class="vis-container" id="total_consumption"></div>
        </div>
      </div>
		
      <div class="pure-g center">
        
        <div class="pure-u-1">
          <h1 style="background-color: rgb(167, 250, 174);">
            Where the coffee come from?
          </h1>
        </div> 
      </div>
      <div class="pure-g center">
        <div class="pure-u-1-3"></div>
        <div class="pure-u-1-3">
          <p>
            Economist Victor R. Fuchs described in 1968 the rise of a 'service economy' spreading out from North America. Services did indeed continue to increase as a percentage of economic output throughout the world - today most 'advanced' economies are dominated by services.
          </p>
        </div>
        <div class="pure-u-1-3">
        </div>
      </div>
      <div class="pure-g center">
        <div class="pure-u-2-3">
          <div class="vis-container" id="import"></div>
        </div>
      </div>		
		
		
		
<div class="pure-g center">
        <div class="pure-u-1">
          <h1 style="background-color: rgb(167, 250, 174);">
            What is the develop path for the most famous coffee company?
          </h1>
        </div> 
      </div>
      <div class="pure-g center">
        <div class="pure-u-1-3"></div>
        <div class="pure-u-1-3">
          <p>
            Starbucks was established in 1971 by three local businessmen to sell high quality whole beans coffee. In 1981 when Howard Schultz visited the store he plan to build a strong company and expand high quality coffee business with the name of Starbucks. Starbucks air is to provide high quality of coffee to its consumer and aim to achieve product innovation, retail expansion and provide service quality for long term.
          </p>
        </div>
        <div class="pure-u-1-3">
        </div>
      </div>
      <div class="pure-g center">
        <div class="pure-u-2-3">        
          <div class="vis-container" id="Starbuck"></div>
        </div>
      </div>				
		
  
		
<div class="pure-g center">
        <div class="pure-u-1">
          <h1 style="background-color: rgb(167, 250, 174);">
		What is the price for different coffee in Australia?
          </h1>
        </div> 
      </div>
      <div class="pure-g center">
        <div class="pure-u-1-3"></div>
        <div class="pure-u-1-3">
          <p>
           In 2017, the average price for a latte in Australia was around 4.126 Australian dollars per cup. By comparison, a flat white was 4.06 Australian dollars per cup on average. The most expensive coffee in 2017 was ICE coffee, with a cup costing on average 5.42 Australian dollars.
          </p>
        </div>
        <div class="pure-u-1-3">
        </div>
      </div>
      <div class="pure-g center">
        <div class="pure-u-2-3">
          <div class="pure-g">
 
          </div>
          <div class="vis-container" id="price"></div>
        </div>
      </div>			
		
		
		
<div class="pure-g center">
        <div class="pure-u-1">
          <h1 style="background-color: rgb(167, 250, 174);">
		What is the favourite coffee in Australia?
          </h1>
        </div> 
      </div>
      <div class="pure-g center">
        <div class="pure-u-1-3"></div>
        <div class="pure-u-1-3">
          <p>
            The latte was  the most popular coffee type sold in Australia; 33 percent of all cups sold in coffee bars and cafes were of this type of coffee. Flat whites were also popular, accounting for 32 percent of all cups sold.     </p>
        </div>
        <div class="pure-u-1-3">
        </div>
      </div>
      <div class="pure-g center">
        <div class="pure-u-2-3">

          <div class="vis-container" id="favorite"></div>
        </div>
      </div>			
		

		
	
		
		
		
		
    <script type="text/javascript">
      // Assign the specification to a local variable vlSpec.
     var vltotal_consumption="global_consuption.json"
     var vlstarbuck_location = {
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "background": "#ffb366",
  "width": 800,
  "height": 500,
  "title": "Starbucks Worlds Location",
  "projection": {"type": "equalEarth"},
  "layer": [
    {
      "data": {
        "url": "https://raw.githubusercontent.com/KaneSec/vega_lite/main/2_symbol_map/js/ne_110m_admin_0_countries.topojson",
        "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
      },
      "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
    },
    {
      "data": {
        "url": "https://raw.githubusercontent.com/Hong-hua/FIT3179/main/directory.csv"
      },
      "encoding": {
        "longitude": {"field": "Longitude", "type": "quantitative"},
        "latitude": {"field": "Latitude", "type": "quantitative"}
      },
      "layer": [
        {
          "mark": {"type": "circle", "tooltip":{"content": "data"} ,"size":5,"color":"green"}

        }
      ]
    }
  ],
"config": {
  "style": {
    "cell": {
      "stroke": "transparent"
    }
  }
}
}
     
     
     
     var visPrice  ={
	  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
	  "width": 500,
	  "background": "#ffb366",
	  "height": 500,
	  "title": "How much do we pay for a cup of coffee across the country ?",
	  "data": {
	    "url": "https://raw.githubusercontent.com/Hong-hua/FIT3179/main/price_by_state.csv"
	  },
	  "encoding": {
	    "y": {"field": "Coffee_Name", "type": "nominal"},
	    "x": {"field": "State_Name", "type": "ordinal"}
	  },
	  "layer": [
	    {
	      "mark": "rect",
	      "encoding": {
		"color": {
		  "field": "Price",
		  "type": "quantitative",
		  "title": "Coffee price",
		  "legend": {"direction": "horizontal", "gradientLength": 120}
		}
	      }
	    },
	    {
	      "mark": "text",
	      "encoding": {"text": {"field": "Price", "type": "quantitative","format":"$"}}
	    }
	  ],
	  "config": {}
	}
     
     
     var visFavoriteCoffee = 
	 {
		  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
		  "width":400 ,
		  "background": "#ffb366",
		  "height": 300,
		  "description": "A simple pie chart with labels.",
		  "data": {
		    "values": [
		      {"category": "CHAI", "value": 2},
		      {"category": "ICED DRINKS", "value": 3},
		      {"category": "MOCHA", "value": 4},
		      {"category": "HOT CHOCOLATE", "value": 4},
		      {"category": "LONG BLACK", "value": 8},
		      {"category": "CAPPUCCINO", "value": 16},
		      {"category": "FLAT WHITE", "value": 24},
		      {"category": "LATTE", "value": 39}
		    ]
		  },
		  "title": "Total cups sold in coffee bars and cafes in Australia in 2017",
		  "encoding": {
		    "theta": {"field": "value", "type": "quantitative", "stack": true},
		    "color": {
		      "field": "category",
		      "type": "nominal",
		      "legend": true,
		      "scale": {
			"domain": [
			  "CAPPUCCINO",
			  "CHAI",
			  "FLAT WHITE",
			  "HOT CHOCOLATE",
			  "ICED DRINKS",
			  "LATTE",
			  "LONG BLACK",
			  "MOCHA"
			],
			"range": [
			  "#666666",
			  "#1f78b4",
			  "#b2df8a",
			  "#33a02c",
			  "#984ea3",
			  "#e31a1c",
			  "#e7298a",
			  "#ff7f00"
			]
		      }
		    }
		  },
		  "layer": [
		    {"mark": {"type": "arc", "outerRadius": 90, "cornerRadius": 45}},
		    {
		      "mark": {"type": "text", "radius": 100, "color": "brown"},
		      "encoding": {"text": {"field": "value", "type": "quantitative","format":".1f%"}}
		    }
		  ],
		  "view": {"stroke": null},
		  "config": {}
	}

     
     var visImport={
	  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
	  "description": "A simple pie chart with embedded data.",
	   "background": "#ffb366",   
	  "width": 600,
	  "height": 500,
	  "data": {
	    "values": [
	      {"category": "European Union ", "value": 6775, "x": -0.2, "y": 6},
	      {"category": "Japan", "value": 660, "x": 0.5, "y": 6},
	      {"category": "Norway", "value": 71, "x": 0.4, "y": 6.95},
	      {"category": "Russian Federation", "value": 506, "x": 0.45, "y": 4.65},
	      {"category": "Switzerland", "value": 294, "x": 0.2, "y": 6.5},
	      {"category": "Tunisia", "value": 37, "x": 0.2, "y": 5.5},
	      {"category": "USA", "value": 2851, "x": 0.2, "y": 7.8}
	    ]
	  },
	  "encoding": {
	    "y": {
	      "field": "y",
	      "type": "quantitative",
	      "axis": null,
	      "scale": {"domain": [2.5, 10]}
	    },
	    "x": {
	      "field": "x",
	      "type": "quantitative",
	      "axis": null,
	      "scale": {"domain": [-1, 1]}
	    }
	  },
	  "layer": [
	    {
	      "mark": "circle",
	      "encoding": {
		"size": {
		  "field": "value",
		  "type": "quantitative",
		  "scale": {
		    "type": "threshold",
		    "domain": [100, 300, 500, 1500, 3000],
		    "range": [1000, 2500, 5000, 7000, 10000, 15000]
		  },
		"legend": null
		},
		"color": {"field": "category", "type": "nominal"}
	      }
	    },
	    {
	      "mark": {"type": "text", "baseline": "line-bottom"},
	      "encoding": {"text": {"field": "category", "type": "nominal"}}
	    },
	    {
	      "mark": {"type": "text", "baseline": "line-top"},
	      "encoding": {"text": {"field": "value", "type": "quantitative"}}
	    }
	  ],
	  "view": {"stroke": null},
	  "config": {}
	}
     
     
var vlServicesOverTime = 
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","vconcat":[{"layer":[{"mark":{"type":"area","color":"lightgrey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum.Year==1990 || datum.Year==2000 || datum.Year==2011 || datum.Year==2018"},{"filter":"isValid(datum.Services) && datum.Services > 0"}],"encoding":{"x":{"field":"Year","type":"ordinal"},"y":{"field":"Services","type":"quantitative","aggregate":"average"}},"width":400},{"mark":{"type":"line","color":"#5e8aba","opacity":1},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum[\"Country Name\"] == 'China' &&(datum.Year==1990 || datum.Year==2000 || datum.Year==2011 || datum.Year==2018)"}],"encoding":{"x":{"field":"Year","type":"ordinal"},"y":{"field":"Services","type":"quantitative","axis":{"title":"Services (% of GDP)","grid":false}}},"width":400},{"mark":{"type":"text","color":"#5e8aba","align":"left","dy":-15,"dx":-35},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum[\"Country Name\"] == 'China' && datum.Year==2018"}],"encoding":{"x":{"field":"Year","type":"ordinal"},"y":{"field":"Services","type":"quantitative","axis":{"grid":false}},"text":{"field":"Country Name","type":"nominal"}},"width":400},{"mark":{"type":"line","color":"#007E20","opacity":1},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum[\"Country Name\"] == 'United Kingdom' &&(datum.Year==1990 || datum.Year==2000 || datum.Year==2011 || datum.Year==2018)"}],"encoding":{"x":{"field":"Year","type":"ordinal"},"y":{"field":"Services","type":"quantitative","axis":{"title":"Services (% of GDP)","grid":false}}},"width":400},{"mark":{"type":"text","color":"#007E20","align":"left","dy":-15,"dx":-35},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum[\"Country Name\"] == 'United Kingdom' && datum.Year==2018"}],"encoding":{"x":{"field":"Year","type":"ordinal"},"y":{"field":"Services","type":"quantitative","axis":{"grid":false}},"text":{"field":"Country Name","type":"nominal"}},"width":400}]}],"title":null}
      var vlResearchMapFunding =
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","hconcat":[{"vconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - financed by Business enterprise %"]}},{"filter":"isValid(datum[\"GERD - financed by Business enterprise %\"]) && datum[\"GERD - financed by Business enterprise %\"] > 0"}],"selection":{"sel62":{"type":"multi","fields":["Country"]}},"encoding":{"color":{"field":"GERD - financed by Business enterprise %","type":"quantitative","legend":{"type":"gradient","gradientLength":300,"direction":"horizontal","orient":"bottom","title":"% of R&D Funding"},"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Business enterprise %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel62"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":300,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Business enterprise %"]}},{"filter":"datum[\"GERD - financed by Business enterprise %\"] == 0 || datum[\"GERD - financed by Business enterprise %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"},"opacity":{"condition":{"test":{"selection":"sel62"},"value":0.8},"value":0.1}},"width":450,"height":300,"projection":"albers"}]},{"mark":{"type":"bar","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"filter":"isValid(datum[\"GERD - financed by Business enterprise %\"]) && datum[\"GERD - financed by Business enterprise %\"] > 0"},{"calculate":"toNumber(datum[\"GERD - financed by Business enterprise %\"])","as":"numField"}],"encoding":{"color":{"field":"GERD - financed by Business enterprise %","type":"quantitative","legend":null,"scale":{"type":"quantile"}},"y":{"field":"numField","type":"quantitative","axis":{"title":null,"tickCount":5},"scale":{"domain":[0,100]}},"x":{"field":"CountryCode","type":"nominal","sort":"y","axis":null},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Business enterprise %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel62"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":100,"projection":"albers"}],"title":"Funded by Domestic Business (% of R&D)"},{"vconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - financed by Government %"]}},{"filter":"isValid(datum[\"GERD - financed by Government %\"]) && datum[\"GERD - financed by Government %\"] > 0"}],"selection":{"sel62":{"type":"multi","fields":["Country"]}},"encoding":{"color":{"field":"GERD - financed by Government %","type":"quantitative","legend":{"type":"gradient","gradientLength":300,"direction":"horizontal","orient":"bottom","title":"% of R&D Funding"},"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Government %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel62"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":300,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Government %"]}},{"filter":"datum[\"GERD - financed by Government %\"] == 0 || datum[\"GERD - financed by Government %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"},"opacity":{"condition":{"test":{"selection":"sel62"},"value":0.8},"value":0.1}},"width":450,"height":300,"projection":"albers"}]},{"mark":{"type":"bar","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"filter":"isValid(datum[\"GERD - financed by Government %\"]) && datum[\"GERD - financed by Government %\"] > 0"},{"calculate":"toNumber(datum[\"GERD - financed by Government %\"])","as":"numField"}],"encoding":{"color":{"field":"GERD - financed by Government %","type":"quantitative","legend":null,"scale":{"type":"quantile"}},"y":{"field":"numField","type":"quantitative","axis":{"title":null,"tickCount":5},"scale":{"domain":[0,100]}},"x":{"field":"CountryCode","type":"nominal","sort":"y","axis":null},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Government %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel62"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":100,"projection":"albers"}],"title":"Funded by Government (% of R&D)"},{"vconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - financed by Rest of the world (abroad) %"]}},{"filter":"isValid(datum[\"GERD - financed by Rest of the world (abroad) %\"]) && datum[\"GERD - financed by Rest of the world (abroad) %\"] > 0"}],"selection":{"sel62":{"type":"multi","fields":["Country"]}},"encoding":{"color":{"field":"GERD - financed by Rest of the world (abroad) %","type":"quantitative","legend":{"type":"gradient","gradientLength":300,"direction":"horizontal","orient":"bottom","title":"% of R&D Funding"},"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Rest of the world (abroad) %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel62"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":300,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Rest of the world (abroad) %"]}},{"filter":"datum[\"GERD - financed by Rest of the world (abroad) %\"] == 0 || datum[\"GERD - financed by Rest of the world (abroad) %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"},"opacity":{"condition":{"test":{"selection":"sel62"},"value":0.8},"value":0.1}},"width":450,"height":300,"projection":"albers"}]},{"mark":{"type":"bar","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"filter":"isValid(datum[\"GERD - financed by Rest of the world (abroad) %\"]) && datum[\"GERD - financed by Rest of the world (abroad) %\"] > 0"},{"calculate":"toNumber(datum[\"GERD - financed by Rest of the world (abroad) %\"])","as":"numField"}],"encoding":{"color":{"field":"GERD - financed by Rest of the world (abroad) %","type":"quantitative","legend":null,"scale":{"type":"quantile"}},"y":{"field":"numField","type":"quantitative","axis":{"title":null,"tickCount":5},"scale":{"domain":[0,100]}},"x":{"field":"CountryCode","type":"nominal","sort":"y","axis":null},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - financed by Rest of the world (abroad) %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel62"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":100,"projection":"albers"}],"title":"Funded by Foreign Interests (% of R&D)"}]}
      var vlResearchMapActivity =
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","hconcat":[{"vconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - Basic research %"]}},{"filter":"isValid(datum[\"GERD - Basic research %\"]) && datum[\"GERD - Basic research %\"] > 0"}],"selection":{"sel63":{"type":"multi","fields":["Country"]}},"encoding":{"color":{"field":"GERD - Basic research %","type":"quantitative","legend":{"type":"gradient","gradientLength":300,"direction":"horizontal","orient":"bottom","title":"% of R&D"},"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Basic research %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel63"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":300,"projection":"equalEarth"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Basic research %"]}},{"filter":"datum[\"GERD - Basic research %\"] == 0 || datum[\"GERD - Basic research %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"},"opacity":{"condition":{"test":{"selection":"sel63"},"value":0.8},"value":0.1}},"width":450,"height":300,"projection":"equalEarth"}]},{"mark":{"type":"bar","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"filter":"isValid(datum[\"GERD - Basic research %\"]) && datum[\"GERD - Basic research %\"] > 0"},{"calculate":"toNumber(datum[\"GERD - Basic research %\"])","as":"numField"}],"encoding":{"color":{"field":"GERD - Basic research %","type":"quantitative","legend":null,"scale":{"type":"quantile"}},"y":{"field":"numField","type":"quantitative","axis":{"title":null,"tickCount":5},"scale":{"domain":[0,100]}},"x":{"field":"CountryCode","type":"nominal","sort":"y","axis":null},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Basic research %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel63"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":100,"projection":"albers"}],"title":"Basic Research (% of R&D)"},{"vconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - Applied research %"]}},{"filter":"isValid(datum[\"GERD - Applied research %\"]) && datum[\"GERD - Applied research %\"] > 0"}],"selection":{"sel63":{"type":"multi","fields":["Country"]}},"encoding":{"color":{"field":"GERD - Applied research %","type":"quantitative","legend":{"type":"gradient","gradientLength":300,"direction":"horizontal","orient":"bottom","title":"% of R&D"},"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Applied research %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel63"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":300,"projection":"equalEarth"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Applied research %"]}},{"filter":"datum[\"GERD - Applied research %\"] == 0 || datum[\"GERD - Applied research %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"},"opacity":{"condition":{"test":{"selection":"sel63"},"value":0.8},"value":0.1}},"width":450,"height":300,"projection":"equalEarth"}]},{"mark":{"type":"bar","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"filter":"isValid(datum[\"GERD - Applied research %\"]) && datum[\"GERD - Applied research %\"] > 0"},{"calculate":"toNumber(datum[\"GERD - Applied research %\"])","as":"numField"}],"encoding":{"color":{"field":"GERD - Applied research %","type":"quantitative","legend":null,"scale":{"type":"quantile"}},"y":{"field":"numField","type":"quantitative","axis":{"title":null,"tickCount":5},"scale":{"domain":[0,100]}},"x":{"field":"CountryCode","type":"nominal","sort":"y","axis":null},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Applied research %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel63"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":100,"projection":"albers"}],"title":"Applied Research (% of R&D)"},{"vconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD - Experimental development %"]}},{"filter":"isValid(datum[\"GERD - Experimental development %\"]) && datum[\"GERD - Experimental development %\"] > 0"}],"selection":{"sel63":{"type":"multi","fields":["Country"]}},"encoding":{"color":{"field":"GERD - Experimental development %","type":"quantitative","legend":{"type":"gradient","gradientLength":300,"direction":"horizontal","orient":"bottom","title":"% of R&D"},"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Experimental development %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel63"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":300,"projection":"equalEarth"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Experimental development %"]}},{"filter":"datum[\"GERD - Experimental development %\"] == 0 || datum[\"GERD - Experimental development %\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"},"opacity":{"condition":{"test":{"selection":"sel63"},"value":0.8},"value":0.1}},"width":450,"height":300,"projection":"equalEarth"}]},{"mark":{"type":"bar","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"filter":"isValid(datum[\"GERD - Experimental development %\"]) && datum[\"GERD - Experimental development %\"] > 0"},{"calculate":"toNumber(datum[\"GERD - Experimental development %\"])","as":"numField"}],"encoding":{"color":{"field":"GERD - Experimental development %","type":"quantitative","legend":null,"scale":{"type":"quantile"}},"y":{"field":"numField","type":"quantitative","axis":{"title":null,"tickCount":5},"scale":{"domain":[0,100]}},"x":{"field":"CountryCode","type":"nominal","sort":"y","axis":null},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD - Experimental development %","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel63"},"value":0.8},"value":0.1}},"title":null,"width":450,"height":100,"projection":"albers"}],"title":"Experimental Development (% of R&D)"}]}
      var vlResearchMapEffort =
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","hconcat":[{"vconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","Researchers per million inhabitants (FTE)"]}},{"filter":"isValid(datum[\"Researchers per million inhabitants (FTE)\"]) && datum[\"Researchers per million inhabitants (FTE)\"] > 0"}],"selection":{"sel55":{"type":"multi","fields":["Country"]}},"encoding":{"color":{"field":"Researchers per million inhabitants (FTE)","type":"quantitative","legend":{"type":"gradient","gradientLength":300,"direction":"horizontal","orient":"bottom","title":"# per Million"},"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"Researchers per million inhabitants (FTE)","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel55"},"value":0.8},"value":0.1}},"title":null,"width":420,"height":300,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Researchers per million inhabitants (FTE)"]}},{"filter":"datum[\"Researchers per million inhabitants (FTE)\"] == 0 || datum[\"Researchers per million inhabitants (FTE)\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"},"opacity":{"condition":{"test":{"selection":"sel55"},"value":0.8},"value":0.1}},"width":420,"height":300,"projection":"albers"}]},{"mark":{"type":"bar","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"filter":"isValid(datum[\"Researchers per million inhabitants (FTE)\"]) && datum[\"Researchers per million inhabitants (FTE)\"] > 0"},{"calculate":"toNumber(datum[\"Researchers per million inhabitants (FTE)\"])","as":"numField"}],"encoding":{"color":{"field":"Researchers per million inhabitants (FTE)","type":"quantitative","legend":null,"scale":{"type":"quantile"}},"y":{"field":"numField","type":"quantitative","axis":{"title":null,"tickCount":5},"scale":{"type":"sqrt"}},"x":{"field":"CountryCode","type":"nominal","sort":"y","axis":null},"tooltip":[{"field":"Country","type":"nominal"},{"field":"Researchers per million inhabitants (FTE)","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel55"},"value":0.8},"value":0.1}},"title":null,"width":420,"height":100,"projection":"albers"}],"title":"Researchers per Million Inhabitants (FTE)"},{"vconcat":[{"layer":[{"mark":{"type":"geoshape","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["Country","GERD per capita (in current PPP$)"]}},{"filter":"isValid(datum[\"GERD per capita (in current PPP$)\"]) && datum[\"GERD per capita (in current PPP$)\"] > 0"}],"selection":{"sel55":{"type":"multi","fields":["Country"]}},"encoding":{"color":{"field":"GERD per capita (in current PPP$)","type":"quantitative","legend":{"type":"gradient","gradientLength":300,"direction":"horizontal","orient":"bottom","title":"PPP$ per Capita"},"scale":{"type":"quantile"}},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD per capita (in current PPP$)","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel55"},"value":0.8},"value":0.1}},"title":null,"width":420,"height":300,"projection":"albers"},{"mark":{"type":"geoshape","fill":"#ababab"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/world.lowres.json","format":{"type":"topojson","feature":"ne_110m_admin_0_countries"}},"transform":[{"filter":"datum.properties.ISO_A3 != \"ATA\""},{"lookup":"properties.ISO_A3","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD per capita (in current PPP$)"]}},{"filter":"datum[\"GERD per capita (in current PPP$)\"] == 0 || datum[\"GERD per capita (in current PPP$)\"] == null"}],"encoding":{"tooltip":{"value":"No Data Available"},"opacity":{"condition":{"test":{"selection":"sel55"},"value":0.8},"value":0.1}},"width":420,"height":300,"projection":"albers"}]},{"mark":{"type":"bar","stroke":"grey"},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"filter":"isValid(datum[\"GERD per capita (in current PPP$)\"]) && datum[\"GERD per capita (in current PPP$)\"] > 0"},{"calculate":"toNumber(datum[\"GERD per capita (in current PPP$)\"])","as":"numField"}],"encoding":{"color":{"field":"GERD per capita (in current PPP$)","type":"quantitative","legend":null,"scale":{"type":"quantile"}},"y":{"field":"numField","type":"quantitative","axis":{"title":null,"tickCount":5},"scale":{"type":"sqrt"}},"x":{"field":"CountryCode","type":"nominal","sort":"y","axis":null},"tooltip":[{"field":"Country","type":"nominal"},{"field":"GERD per capita (in current PPP$)","type":"nominal"}],"opacity":{"condition":{"test":{"selection":"sel55"},"value":0.8},"value":0.1}},"title":null,"width":420,"height":100,"projection":"albers"}],"title":"Research Expenditure per Capita (PPP$)"}],"resolve":{"scale":{"color":"independent"}}}
      var vlBasicVsDevResearch =
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","vconcat":[{"layer":[{"mark":{"type":"point","filled":true},"selection":{"selectRegion":{"type":"multi","fields":["region"],"bind":"legend"}},"width":450,"height":370,"title":null,"encoding":{"size":{"field":"GERD per capita (in current PPP$)","type":"quantitative","title":null,"scale":{"domain":[0,2500],"range":[30,800]},"legend":null},"tooltip":[{"field":"Country","type":"nominal"},{"field":"Experimental development (% R&D Expenditure)","type":"nominal"},{"field":"Basic research (% R&D Expenditure)","type":"nominal"},{"field":"Researchers per million inhabitants (FTE)","type":"nominal"},{"field":"R&D expenditure per capita (in current PPP$)","type":"nominal"}]}},{"mark":{"type":"text","align":"left","dy":-5,"dx":15,"baseline":"left"},"transform":[{"filter":"datum.Country==\"United States\" || datum.Country==\"Japan\" ||datum.Country==\"Switzerland\" || datum.Country==\"Republic of Korea\" ||datum.Country==\"Israel\""}],"encoding":{"text":{"field":"Country","type":"nominal"}}},{"mark":{"type":"text","align":"left","dy":-8,"dx":0,"baseline":"left"},"transform":[{"filter":"datum.Country==\"China\" || datum.Country==\"India\" ||datum.Country==\"Qatar\" || datum.Country==\"Malta\""}],"encoding":{"text":{"field":"Country","type":"nominal"}}}],"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"lookup":"CountryCode","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["region"]}},{"filter":"datum[\"GERD - Experimental development %\"] != 0&& datum.region != null&& toNumber(datum[\"Researchers per million inhabitants (FTE)\"]) > SelectResearcherCount"}],"encoding":{"opacity":{"condition":{"selection":"selectRegion","value":0.7},"value":0.15},"x":{"field":"GERD - Experimental development %","type":"quantitative","title":"Experimental Development (% R&D expenditure)","axis":{"grid":false},"scale":{"domain":[0,90]}},"y":{"field":"GERD - Basic research %","type":"quantitative","title":"Basic Research (% R&D expenditure)","axis":{"grid":false},"scale":{"domain":[0,60]}},"color":{"field":"region","type":"nominal","title":"Region","legend":{"offset":5},"scale":{"domain":["East Asia & Pacific","Europe & Central Asia","Latin America & Caribbean","Middle East & North Africa","North America","South Asia","Sub-Saharan Africa"],"range":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#f781bf","#a65628"]}}}}],"params":[{"name":"SelectResearcherCount","value":0,"bind":{"input":"range","min":0,"max":6000,"step":1,"name":"Minimum # Researchers per Million Inhabitants"}}],"title":{"text":"Composition of R&D by Activity","subtitle":["Bubbles closer to the origin spend more on Applied Research.","Bigger bubbles spend more per capita ($PPP)."],"font":"Arial","subtitleFont":"Arial","fontSize":14,"subtitlePadding":7,"offset":10,"subtitleLineHeight":15}}
      var vlResearchMetricsImpact =
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","hconcat":[{"layer":[{"mark":{"type":"point","filled":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum.Year==2014"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Experimental development %"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD - Experimental development %\"]) && datum[\"GERD - Experimental development %\"] > 0"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["region"]}}],"encoding":{"x":{"field":"GERD - Experimental development %","type":"quantitative","title":"Experimental Development (% of R&D)","scale":{"type":"sqrt"}},"y":{"field":"economic-fitness","type":"quantitative","title":"Economic Fitness","scale":{"type":"sqrt"}},"size":{"field":"GDP","type":"quantitative","scale":{"range":[10,1000]},"legend":null},"color":{"field":"region","type":"nominal","title":"Region","legend":{"offset":5,"orient":"top"},"scale":{"domain":["East Asia & Pacific","Europe & Central Asia","Latin America & Caribbean","Middle East & North Africa","North America","South Asia","Sub-Saharan Africa"],"range":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#f781bf","#a65628"]}},"tooltip":[{"field":"Country Name","type":"nominal"},{"field":"region","type":"nominal"},{"field":"GDP","type":"nominal"},{"field":"economic-fitness","type":"nominal"},{"field":"GERD - Experimental development %","type":"nominal"}]}},{"mark":{"type":"line","color":"darkgrey","strokeDash":[4,4],"clip":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"lookup":"CountryCode","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD - Experimental development %\"]) && datum[\"GERD - Experimental development %\"] > 0"},{"regression":"economic-fitness","extent":[0,90],"on":"GERD - Experimental development %","as":["rx","ry"]}],"encoding":{"x":{"field":"rx","type":"quantitative"},"y":{"field":"ry","type":"quantitative","scale":{"domain":[0,9]}}}}],"width":300,"height":350},{"layer":[{"mark":{"type":"point","filled":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum.Year==2014"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Business enterprise %"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD - financed by Business enterprise %\"]) && datum[\"GERD - financed by Business enterprise %\"] > 0"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["region"]}}],"encoding":{"x":{"field":"GERD - financed by Business enterprise %","type":"quantitative","title":"R&D Funded by Business (% of R&D)","scale":{"type":"sqrt"}},"y":{"field":"economic-fitness","type":"quantitative","title":"Economic Fitness","scale":{"type":"sqrt"}},"size":{"field":"GDP","type":"quantitative","scale":{"range":[10,1000]},"legend":null},"color":{"field":"region","type":"nominal","title":"Region","legend":{"offset":5,"orient":"top"},"scale":{"domain":["East Asia & Pacific","Europe & Central Asia","Latin America & Caribbean","Middle East & North Africa","North America","South Asia","Sub-Saharan Africa"],"range":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#f781bf","#a65628"]}},"tooltip":[{"field":"Country Name","type":"nominal"},{"field":"region","type":"nominal"},{"field":"GDP","type":"nominal"},{"field":"economic-fitness","type":"nominal"},{"field":"GERD - financed by Business enterprise %","type":"nominal"}]}},{"mark":{"type":"line","color":"darkgrey","strokeDash":[4,4],"clip":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"lookup":"CountryCode","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD - financed by Business enterprise %\"]) && datum[\"GERD - financed by Business enterprise %\"] > 0"},{"regression":"economic-fitness","extent":[0,90],"on":"GERD - financed by Business enterprise %","as":["rx","ry"]}],"encoding":{"x":{"field":"rx","type":"quantitative"},"y":{"field":"ry","type":"quantitative","scale":{"domain":[0,9]}}}}],"width":300,"height":350},{"layer":[{"mark":{"type":"point","filled":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum.Year==2014"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD per capita (in current PPP$)"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD per capita (in current PPP$)\"]) && datum[\"GERD per capita (in current PPP$)\"] > 0"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["region"]}}],"encoding":{"x":{"field":"GERD per capita (in current PPP$)","type":"quantitative","title":"R&D Funding per Capita (PPP$)","scale":{"type":"sqrt"}},"y":{"field":"economic-fitness","type":"quantitative","title":"Economic Fitness","scale":{"type":"sqrt"}},"size":{"field":"GDP","type":"quantitative","scale":{"range":[10,1000]},"legend":null},"color":{"field":"region","type":"nominal","title":"Region","legend":{"offset":5,"orient":"top"},"scale":{"domain":["East Asia & Pacific","Europe & Central Asia","Latin America & Caribbean","Middle East & North Africa","North America","South Asia","Sub-Saharan Africa"],"range":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#f781bf","#a65628"]}},"tooltip":[{"field":"Country Name","type":"nominal"},{"field":"region","type":"nominal"},{"field":"GDP","type":"nominal"},{"field":"economic-fitness","type":"nominal"},{"field":"GERD per capita (in current PPP$)","type":"nominal"}]}},{"mark":{"type":"line","color":"darkgrey","strokeDash":[4,4],"clip":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"lookup":"CountryCode","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD per capita (in current PPP$)\"]) && datum[\"GERD per capita (in current PPP$)\"] > 0"},{"regression":"economic-fitness","extent":[0,2400],"on":"GERD per capita (in current PPP$)","as":["rx","ry"]}],"encoding":{"x":{"field":"rx","type":"quantitative"},"y":{"field":"ry","type":"quantitative","scale":{"domain":[0,9]}}}}],"width":300,"height":350}]}
      var vlResearchImpacts = 
      {"$schema":"https://vega.github.io/schema/vega-lite/v4.json","hconcat":[{"layer":[{"mark":{"type":"point","filled":true},"selection":{"selectRegion":{"type":"multi","fields":["region"],"bind":"legend","on":"click","clear":"dblclick"},"selectRegionClick":{"fields":["Country Name"],"type":"single","on":"mouseover"}},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum.Year==2014"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Experimental development %","Researchers per million inhabitants (FTE)"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD - Experimental development %\"]) && datum[\"GERD - Experimental development %\"] > 0"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["region"]}},{"filter":"toNumber(datum[\"Researchers per million inhabitants (FTE)\"]) > SelectResearcherCount"}],"encoding":{"opacity":{"condition":{"selection":{"or":["selectRegionClick","selectRegion"]},"value":0.7},"value":0.15},"x":{"field":"GERD - Experimental development %","type":"quantitative","title":"Experimental Development (% of R&D)","scale":{"type":"sqrt"}},"y":{"field":"economic-fitness","type":"quantitative","title":"Economic Fitness","scale":{"domain":[0,10],"type":"sqrt"}},"size":{"field":"GDP","type":"quantitative","scale":{"domain":[0,100000000000000],"range":[0,1000],"type":"pow","exponent":0.5}},"color":{"field":"region","type":"nominal","title":"Region","legend":{"offset":5,"orient":"top"},"scale":{"domain":["East Asia & Pacific","Europe & Central Asia","Latin America & Caribbean","Middle East & North Africa","North America","South Asia","Sub-Saharan Africa"],"range":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#f781bf","#a65628"]}},"tooltip":[{"field":"Country Name","type":"nominal"},{"field":"region","type":"nominal"},{"field":"GDP","type":"nominal"},{"field":"economic-fitness","type":"nominal"},{"field":"GERD - Experimental development %","type":"nominal"}]}},{"mark":{"type":"line","color":"darkgrey","strokeDash":[4,4],"clip":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"lookup":"CountryCode","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD - Experimental development %\"]) && datum[\"GERD - Experimental development %\"] > 0"},{"regression":"economic-fitness","extent":[0,90],"on":"GERD - Experimental development %","as":["rx","ry"]}],"encoding":{"x":{"field":"rx","type":"quantitative"},"y":{"field":"ry","type":"quantitative","scale":{"domain":[0,9]}}}}],"width":300,"height":350},{"layer":[{"mark":{"type":"point","filled":true},"selection":{"selectRegion":{"type":"multi","fields":["region"],"bind":"legend","on":"click","clear":"dblclick"},"selectRegionClick":{"fields":["Country Name"],"type":"single","on":"mouseover"}},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum.Year==2014"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - financed by Business enterprise %","Researchers per million inhabitants (FTE)"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD - financed by Business enterprise %\"]) && datum[\"GERD - financed by Business enterprise %\"] > 0"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["region"]}},{"filter":"toNumber(datum[\"Researchers per million inhabitants (FTE)\"]) > SelectResearcherCount"}],"encoding":{"opacity":{"condition":{"selection":{"or":["selectRegionClick","selectRegion"]},"value":0.7},"value":0.15},"x":{"field":"GERD - financed by Business enterprise %","type":"quantitative","title":"R&D Funded by Business (% of R&D)","scale":{"type":"sqrt"}},"y":{"field":"economic-fitness","type":"quantitative","title":"Economic Fitness","scale":{"domain":[0,10],"type":"sqrt"}},"size":{"field":"GDP","type":"quantitative","scale":{"domain":[0,100000000000000],"range":[0,1000],"type":"pow","exponent":0.5}},"color":{"field":"region","type":"nominal","title":"Region","legend":{"offset":5,"orient":"top"},"scale":{"domain":["East Asia & Pacific","Europe & Central Asia","Latin America & Caribbean","Middle East & North Africa","North America","South Asia","Sub-Saharan Africa"],"range":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#f781bf","#a65628"]}},"tooltip":[{"field":"Country Name","type":"nominal"},{"field":"region","type":"nominal"},{"field":"GDP","type":"nominal"},{"field":"economic-fitness","type":"nominal"},{"field":"GERD - financed by Business enterprise %","type":"nominal"}]}},{"mark":{"type":"line","color":"darkgrey","strokeDash":[4,4],"clip":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"lookup":"CountryCode","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD - financed by Business enterprise %\"]) && datum[\"GERD - financed by Business enterprise %\"] > 0"},{"regression":"economic-fitness","extent":[0,90],"on":"GERD - financed by Business enterprise %","as":["rx","ry"]}],"encoding":{"x":{"field":"rx","type":"quantitative"},"y":{"field":"ry","type":"quantitative","scale":{"domain":[0,9]}}}}],"width":300,"height":350},{"layer":[{"mark":{"type":"point","filled":true},"selection":{"selectRegion":{"type":"multi","fields":["region"],"bind":"legend","on":"click","clear":"dblclick"},"selectRegionClick":{"fields":["Country Name"],"type":"single","on":"mouseover"}},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum.Year==2014"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD per capita (in current PPP$)","Researchers per million inhabitants (FTE)"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD per capita (in current PPP$)\"]) && datum[\"GERD per capita (in current PPP$)\"] > 0"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["region"]}},{"filter":"toNumber(datum[\"Researchers per million inhabitants (FTE)\"]) > SelectResearcherCount"}],"encoding":{"opacity":{"condition":{"selection":{"or":["selectRegionClick","selectRegion"]},"value":0.7},"value":0.15},"x":{"field":"GERD per capita (in current PPP$)","type":"quantitative","title":"R&D Funding per Capita (PPP$)","scale":{"type":"sqrt"}},"y":{"field":"economic-fitness","type":"quantitative","title":"Economic Fitness","scale":{"domain":[0,10],"type":"sqrt"}},"size":{"field":"GDP","type":"quantitative","scale":{"domain":[0,100000000000000],"range":[0,1000],"type":"pow","exponent":0.5}},"color":{"field":"region","type":"nominal","title":"Region","legend":{"offset":5,"orient":"top"},"scale":{"domain":["East Asia & Pacific","Europe & Central Asia","Latin America & Caribbean","Middle East & North Africa","North America","South Asia","Sub-Saharan Africa"],"range":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#f781bf","#a65628"]}},"tooltip":[{"field":"Country Name","type":"nominal"},{"field":"region","type":"nominal"},{"field":"GDP","type":"nominal"},{"field":"economic-fitness","type":"nominal"},{"field":"GERD per capita (in current PPP$)","type":"nominal"}]}},{"mark":{"type":"line","color":"darkgrey","strokeDash":[4,4],"clip":true},"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"transform":[{"lookup":"CountryCode","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/economic_fitness_2014.csv","format":{"type":"csv","parse":{"economic-fitness":"number"}}},"key":"country-code","fields":["economic-fitness"]}},{"filter":"isValid(datum[\"economic-fitness\"]) &&isValid(datum[\"GERD per capita (in current PPP$)\"]) && datum[\"GERD per capita (in current PPP$)\"] > 0"},{"regression":"economic-fitness","extent":[0,2400],"on":"GERD per capita (in current PPP$)","as":["rx","ry"]}],"encoding":{"x":{"field":"rx","type":"quantitative"},"y":{"field":"ry","type":"quantitative","scale":{"domain":[0,9]}}}}],"width":300,"height":350},{"mark":{"type":"point","filled":true,"tooltip":true},"selection":{"selectRegion":{"type":"multi","fields":["region"],"bind":"legend","on":"click","clear":"dblclick"},"selectRegionClick":{"fields":["Country Name"],"type":"single","on":"mouseover"}},"width":300,"height":350,"title":null,"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/cleaned_wdi_economic_output_breakup.csv","format":{"type":"csv","parse":{"Year":"number","GDP":"number","Industry":"number","Manufacturing":"number"}}},"transform":[{"filter":"datum.Year==2014"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/research-stats.csv","format":{"type":"csv"}},"key":"CountryCode","fields":["GERD - Experimental development %","GERD - Basic research %","Researchers per million inhabitants (FTE)"]}},{"filter":"toNumber(datum[\"Researchers per million inhabitants (FTE)\"]) > SelectResearcherCount &&isValid(datum[\"GERD - Experimental development %\"]) &&datum[\"GERD - Experimental development %\"] != 0 &&isValid(datum[\"GERD - Basic research %\"]) &&datum[\"GERD - Basic research %\"] != 0"},{"lookup":"Country Code","from":{"data":{"url":"https://raw.githubusercontent.com/joel-brand/FIT3179/main/data/countries.csv","format":{"type":"csv"}},"key":"country-code","fields":["region"]}},{"filter":"isValid(datum.region)"}],"encoding":{"size":{"field":"GDP","type":"quantitative","title":null,"legend":null,"scale":{"domain":[0,100000000000000],"range":[0,1000],"type":"pow","exponent":0.5}},"opacity":{"condition":{"selection":{"or":["selectRegionClick","selectRegion"]},"value":0.7},"value":0.15},"x":{"field":"GERD - Experimental development %","type":"quantitative","title":"Experimental Development (% R&D expenditure)","axis":{"grid":false},"scale":{"domain":[0,90]}},"y":{"field":"GERD - Basic research %","type":"quantitative","title":"Basic Research (% R&D expenditure)","axis":{"grid":false},"scale":{"domain":[0,60]}},"color":{"field":"region","type":"nominal","title":"Region","legend":{"offset":5},"scale":{"domain":["East Asia & Pacific","Europe & Central Asia","Latin America & Caribbean","Middle East & North Africa","North America","South Asia","Sub-Saharan Africa"],"range":["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#f781bf","#a65628"]}}}}],"params":[{"name":"SelectResearcherCount","value":0,"bind":{"input":"range","min":0,"max":6000,"step":1,"name":"Minimum # Researchers per Million Inhabitants"}}],"title":{"text":"Show Me The Money!","subtitle":["R&D focus on Experimental Development and higher research funding from businesses correlates with better economic fitness.","Hover over any datapoint to highlight, or click a region in the legend (shift to click multiple).","Use the slider below to filter out countries with less researchers."],"font":"Arial","subtitleFont":"Arial","fontSize":14,"subtitlePadding":7,"offset":10,"subtitleLineHeight":15}}
      // Embed the visualization in the container with id `vis`
      var opts = {actions:false}
      vegaEmbed('#total_consumption', vltotal_consumption, opts)
	    
 	vegaEmbed('#Starbuck', vlstarbuck_location).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);   
	vegaEmbed('#price', visPrice).then(function(result) {
    // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
  }).catch(console.error);
      vegaEmbed('#favorite', visFavoriteCoffee, opts)
      vegaEmbed('#import', visImport, opts)    
	    
    </script>
  </body>
</html>  
